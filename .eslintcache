[{"C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\App.tsx":"1","C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\index.tsx":"2","C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\components\\Image.tsx":"3","C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\reportWebVitals.ts":"4"},{"size":5951,"mtime":1607019123084,"results":"5","hashOfConfig":"6"},{"size":500,"mtime":1606859802909,"results":"7","hashOfConfig":"6"},{"size":2629,"mtime":1607019123086,"results":"8","hashOfConfig":"6"},{"size":425,"mtime":1606859802909,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"14eosgo",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\App.tsx",["19","20","21","22","23","24"],"import React, { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport './App.css';\r\nimport Image from './components/Image';\r\n\r\nconst Container = styled.div`\r\n  width: 100%;\r\n\r\n\r\n`;\r\n\r\n\r\nconst Navigation = styled.nav`\r\n  background-color: #333333;\r\n  color: #fff;\r\n  transition: bottom 0.3s;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 999;\r\n\r\n`;\r\n\r\n\r\nconst NavItem = styled.div`\r\n  text-align: center;\r\n\r\n`;\r\n\r\n\r\nconst ImagesWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n  margin-top: 5em;\r\n  overflow: hidden;\r\n\r\n`;\r\n\r\nconst ScrollToTopButton = styled.button`\r\n  position: fixed;\r\n  bottom: 0;\r\n  right: 0;\r\n  margin: 1em;\r\n  padding: 1px 4px;\r\n  font-size: 2em;\r\n  color: #fff;\r\n  background-color: #20a0b1;\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 3px;\r\n  \r\n\r\n`;\r\n\r\nconst App = () => {\r\n\r\n  //const imagesWrapper = useRef<HTMLHeadingElement>(null);\r\n \r\n\r\n  let [imageWidth, setImageWidth] = useState(250);\r\n  let [imageHeight, setImageHeight] = useState(250);\r\n  let [blurAmount, setBlurAmount] = useState(0);\r\n  let [grayScale, setGrayScale] = useState(\"false\");\r\n  let [images, setImages] = useState([]);\r\n  let [loading, setLoading] = useState(false);\r\n  let [page, setPage] = useState(1);\r\n  let [isFetching, setIsFetching] = useState(false);\r\n  let [author, setAuthor] = useState();\r\n  let [url, setUrl] = useState();\r\n\r\n\r\n\r\n  let updateWidth = (e: React.FormEvent<HTMLInputElement>): void => {\r\n    console.log(imageWidth);\r\n    setImageWidth(e.currentTarget.value);\r\n  }\r\n\r\n  let updateHeight = (e: React.FormEvent<HTMLInputElement>): void => {\r\n    console.log(imageHeight);\r\n    setImageHeight(e.currentTarget.value);\r\n    \r\n  }\r\n\r\n\r\n  let updateBlur = (e: React.FormEvent<HTMLInputElement>): void => {\r\n    console.log(blurAmount);\r\n    setBlurAmount(e.currentTarget.value);\r\n   \r\n  }\r\n\r\n\r\n\r\n  let updateGrayScale = (e: React.FormEvent<HTMLInputElement>): void => {\r\n    console.log(grayScale);\r\n    setGrayScale(e.currentTarget.value)\r\n  }\r\n\r\n\r\n  let getData = () => {\r\n    setLoading(true)\r\n    axios.get(`https://picsum.photos/v2/list?page=1&limit=30`)\r\n      .then(res => {\r\n        console.log('Response data', res.data);\r\n        setImages(res.data);\r\n        setIsFetching(false)\r\n      })\r\n      .catch(err => {\r\n        console.log('Something happend wrong');\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n\r\n  }\r\n\r\n  let getMoreData = () => {\r\n    axios.get(`https://picsum.photos/v2/list?page=${page}&limit=30`)\r\n      .then(res => {\r\n        console.log('Loaded more data', res.data);\r\n        setImages([...images, ...res.data]);\r\n        setPage(page + 1);\r\n        setIsFetching(false)\r\n      })\r\n      .catch(err => {\r\n        console.log('Something happend wrong');\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      })\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (page === 1) {\r\n      getData();\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", () => { \r\n\r\n\r\n      if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight) {\r\n        return;\r\n      }\r\n      else {\r\n        //console.log(\"scrolling down\");\r\n        setIsFetching(true)\r\n      }\r\n    })\r\n\r\n\r\n    if (isFetching) {\r\n      //console.log(\"Fetch data\")\r\n      getMoreData();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  }, [setImages, setLoading, isFetching]);\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Container>\r\n      <Navigation >\r\n        <NavItem>\r\n          <label htmlFor=\"imageWidth\">Image width:</label>\r\n          <br />\r\n          <input min=\"100\" max=\"500\" step=\"10\" type=\"range\" onChange={updateWidth} value={imageWidth} />\r\n        </NavItem>\r\n\r\n        <NavItem>\r\n          <label htmlFor=\"imageHeight\">Image height:</label>\r\n          <br />\r\n          <input id=\"imageHeight\" min=\"100\" max=\"500\" step=\"10\" type=\"range\" onChange={updateHeight} value={imageHeight} />\r\n\r\n        </NavItem>\r\n\r\n        <NavItem>\r\n          <label htmlFor=\"blur\">Blur:</label>\r\n          <br />\r\n          <input id=\"blur\" min=\"0\" max=\"10\" step=\"1\" type=\"range\" onChange={updateBlur} value={blurAmount} />\r\n\r\n        </NavItem>\r\n\r\n        <NavItem>\r\n          Gray Scale:\r\n        <br />\r\n          <label htmlFor=\"YES\">YES</label>\r\n          <input type=\"radio\" id=\"YES\" name=\"grayscale\" onChange={updateGrayScale}\r\n            value=\"true\"\r\n            checked={grayScale === \"true\"}\r\n          />\r\n          <label htmlFor=\"NO\">NO</label>\r\n          <input type=\"radio\" id=\"NO\" name=\"grayscale\" onChange={updateGrayScale}\r\n            value=\"false\"\r\n            checked={grayScale === \"false\"}\r\n          />\r\n        </NavItem>\r\n\r\n\r\n        {/* <div className=\"col\">\r\n      <p>Image Width: {imageWidth}</p>\r\n      <p>Image Height: {imageHeight}</p>\r\n      <p>Blur Amount: {blurAmount}</p>\r\n      <p>Gray Scale: {grayScale}</p>\r\n      </div> */}\r\n      </Navigation>\r\n\r\n\r\n      <ImagesWrapper>\r\n\r\n        {images.map((img, index) => {\r\n\r\n          return (\r\n\r\n            <div>\r\n\r\n              <Image \r\n              key={index} \r\n              imageUrl={img.download_url} \r\n              imageWidth={imageWidth} \r\n              imageHeight={imageHeight} \r\n              blurAmount={blurAmount} \r\n              grayScale={grayScale} \r\n              url={img.url}\r\n              author={img.author}\r\n              />\r\n              \r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n          )\r\n\r\n\r\n\r\n\r\n        })}\r\n\r\n\r\n             \r\n\r\n      </ImagesWrapper>\r\n\r\n      \r\n\r\n      <ScrollToTopButton onClick={() =>document.documentElement.scroll({top: 0, behavior: 'smooth'})} title=\"Go to top\"><i className=\"fa fa-angle-up\"></i></ScrollToTopButton>\r\n\r\n      <h3 hidden={!loading} style={{ textAlign: \"center\", display: 'block' }} >Loading...</h3> \r\n    </Container>\r\n\r\n\r\n  );\r\n\r\n\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\index.tsx",[],"C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\components\\Image.tsx",[],"C:\\Users\\admir\\OneDrive\\Desktop\\corusoft-zadatak\\corrusoft-zadatak-iteracija-2\\src\\reportWebVitals.ts",[],{"ruleId":"25","severity":1,"message":"26","line":1,"column":38,"nodeType":"27","messageId":"28","endLine":1,"endColumn":44},{"ruleId":"25","severity":1,"message":"29","line":73,"column":8,"nodeType":"27","messageId":"28","endLine":73,"endColumn":14},{"ruleId":"25","severity":1,"message":"30","line":73,"column":16,"nodeType":"27","messageId":"28","endLine":73,"endColumn":25},{"ruleId":"25","severity":1,"message":"31","line":74,"column":8,"nodeType":"27","messageId":"28","endLine":74,"endColumn":11},{"ruleId":"25","severity":1,"message":"32","line":74,"column":13,"nodeType":"27","messageId":"28","endLine":74,"endColumn":19},{"ruleId":"33","severity":1,"message":"34","line":168,"column":6,"nodeType":"35","endLine":168,"endColumn":41,"suggestions":"36"},"@typescript-eslint/no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'author' is assigned a value but never used.","'setAuthor' is assigned a value but never used.","'url' is assigned a value but never used.","'setUrl' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getMoreData' and 'page'. Either include them or remove the dependency array.","ArrayExpression",["37"],{"desc":"38","fix":"39"},"Update the dependencies array to be: [setImages, setLoading, isFetching, page, getMoreData]",{"range":"40","text":"41"},[3499,3534],"[setImages, setLoading, isFetching, page, getMoreData]"]